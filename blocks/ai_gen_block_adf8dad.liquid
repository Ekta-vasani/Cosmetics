{% doc %}
  @prompt
    A magazine-style editorial layout

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-editorial-layout-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    padding: {{ block.settings.section_padding }}px;
    background-color: {{ block.settings.background_color }};
    font-family: {{ block.settings.body_font.family }}, {{ block.settings.body_font.fallback_families }};
    font-weight: {{ block.settings.body_font.weight }};
  }

  .ai-editorial-header-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: 60px;
    border-bottom: 1px solid {{ block.settings.accent_color }};
    padding-bottom: 40px;
  }

  .ai-editorial-title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: {{ block.settings.title_size }}px;
    color: {{ block.settings.text_color }};
    margin: 0 0 20px;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  .ai-editorial-subtitle-{{ ai_gen_id }} {
    font-size: {{ block.settings.subtitle_size }}px;
    color: {{ block.settings.subtitle_color }};
    margin: 0 0 30px;
    font-style: italic;
    line-height: 1.4;
  }

  .ai-editorial-meta-{{ ai_gen_id }} {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    font-size: 14px;
    color: {{ block.settings.meta_color }};
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .ai-editorial-date-{{ ai_gen_id }},
  .ai-editorial-author-{{ ai_gen_id }} {
    position: relative;
  }

  .ai-editorial-date-{{ ai_gen_id }}::after {
    content: '•';
    position: absolute;
    right: -12px;
    color: {{ block.settings.accent_color }};
  }

  .ai-editorial-content-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: 40px;
    margin-bottom: 60px;
  }

  .ai-editorial-hero-image-{{ ai_gen_id }} {
    grid-column: 1 / -1;
    margin-bottom: 40px;
  }

  .ai-editorial-hero-image-{{ ai_gen_id }} img {
    width: 100%;
    height: 500px;
    object-fit: cover;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-editorial-hero-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 500px;
    background-color: #f4f4f4;
    border-radius: {{ block.settings.image_border_radius }}px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-editorial-hero-placeholder-{{ ai_gen_id }} svg {
    width: 100px;
    height: 100px;
    opacity: 0.3;
  }

  .ai-editorial-main-content-{{ ai_gen_id }} {
    grid-column: 2;
  }

  .ai-editorial-main-content-{{ ai_gen_id }} p {
    font-size: {{ block.settings.body_text_size }}px;
    line-height: 1.7;
    color: {{ block.settings.text_color }};
    margin: 0 0 24px;
    text-align: justify;
  }

  .ai-editorial-main-content-{{ ai_gen_id }} p:first-child::first-letter {
    float: left;
    font-size: 4em;
    line-height: 0.8;
    padding: 8px 8px 0 0;
    margin: 4px 8px 0 0;
    font-weight: bold;
    color: {{ block.settings.accent_color }};
  }

  .ai-editorial-sidebar-left-{{ ai_gen_id }},
  .ai-editorial-sidebar-right-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: 30px;
  }

  .ai-editorial-sidebar-item-{{ ai_gen_id }} {
    padding: 20px;
    background-color: {{ block.settings.sidebar_bg_color }};
    border-radius: {{ block.settings.sidebar_border_radius }}px;
    border-left: 4px solid {{ block.settings.accent_color }};
  }

  .ai-editorial-sidebar-title-{{ ai_gen_id }} {
    font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
    font-weight: {{ block.settings.heading_font.weight }};
    font-size: 18px;
    color: {{ block.settings.text_color }};
    margin: 0 0 12px;
  }

  .ai-editorial-sidebar-text-{{ ai_gen_id }} {
    font-size: 14px;
    line-height: 1.5;
    color: {{ block.settings.sidebar_text_color }};
  }

  .ai-editorial-quote-{{ ai_gen_id }} {
    grid-column: 1 / -1;
    text-align: center;
    padding: 60px 40px;
    background-color: {{ block.settings.quote_bg_color }};
    border-radius: {{ block.settings.quote_border_radius }}px;
    margin: 40px 0;
    position: relative;
  }

  .ai-editorial-quote-{{ ai_gen_id }}::before {
    content: '"';
    font-size: 120px;
    color: {{ block.settings.accent_color }};
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    line-height: 1;
    opacity: 0.3;
  }

  .ai-editorial-quote-text-{{ ai_gen_id }} {
    font-size: {{ block.settings.quote_text_size }}px;
    font-style: italic;
    color: {{ block.settings.text_color }};
    margin: 0 0 20px;
    line-height: 1.4;
    position: relative;
    z-index: 1;
  }

  .ai-editorial-quote-author-{{ ai_gen_id }} {
    font-size: 16px;
    color: {{ block.settings.meta_color }};
    font-weight: bold;
  }

  .ai-editorial-gallery-{{ ai_gen_id }} {
    grid-column: 1 / -1;
    display: grid;
    grid-template-columns: repeat({{ block.settings.gallery_columns }}, 1fr);
    gap: 20px;
    margin: 40px 0;
  }

  .ai-editorial-gallery-item-{{ ai_gen_id }} img {
    width: 100%;
    height: 250px;
    object-fit: cover;
    border-radius: {{ block.settings.image_border_radius }}px;
  }

  .ai-editorial-gallery-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 250px;
    background-color: #f4f4f4;
    border-radius: {{ block.settings.image_border_radius }}px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-editorial-gallery-placeholder-{{ ai_gen_id }} svg {
    width: 60px;
    height: 60px;
    opacity: 0.3;
  }

  @media screen and (max-width: 1024px) {
    .ai-editorial-content-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .ai-editorial-main-content-{{ ai_gen_id }} {
      grid-column: 1;
      order: 1;
    }

    .ai-editorial-sidebar-left-{{ ai_gen_id }} {
      order: 2;
    }

    .ai-editorial-sidebar-right-{{ ai_gen_id }} {
      order: 3;
    }

    .ai-editorial-hero-image-{{ ai_gen_id }} img,
    .ai-editorial-hero-placeholder-{{ ai_gen_id }} {
      height: 300px;
    }
  }

  @media screen and (max-width: 768px) {
    .ai-editorial-layout-{{ ai_gen_id }} {
      padding: {{ block.settings.section_padding | times: 0.5 }}px;
    }

    .ai-editorial-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size | times: 0.8 }}px;
    }

    .ai-editorial-meta-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 10px;
    }

    .ai-editorial-date-{{ ai_gen_id }}::after {
      display: none;
    }

    .ai-editorial-gallery-{{ ai_gen_id }} {
      grid-template-columns: repeat({{ block.settings.gallery_columns_mobile }}, 1fr);
    }

    .ai-editorial-quote-{{ ai_gen_id }} {
      padding: 40px 20px;
    }

    .ai-editorial-main-content-{{ ai_gen_id }} p {
      text-align: left;
    }
  }
{% endstyle %}

<article class="ai-editorial-layout-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <header class="ai-editorial-header-{{ ai_gen_id }}">
    {% if block.settings.title != blank %}
      <h1 class="ai-editorial-title-{{ ai_gen_id }}">{{ block.settings.title }}</h1>
    {% endif %}
    
    {% if block.settings.subtitle != blank %}
      <p class="ai-editorial-subtitle-{{ ai_gen_id }}">{{ block.settings.subtitle }}</p>
    {% endif %}
    
    <div class="ai-editorial-meta-{{ ai_gen_id }}">
      {% if block.settings.publish_date != blank %}
        <span class="ai-editorial-date-{{ ai_gen_id }}">{{ block.settings.publish_date }}</span>
      {% endif %}
      {% if block.settings.author != blank %}
        <span class="ai-editorial-author-{{ ai_gen_id }}">By {{ block.settings.author }}</span>
      {% endif %}
    </div>
  </header>

  <div class="ai-editorial-content-{{ ai_gen_id }}">
    {% if block.settings.hero_image != blank %}
      <div class="ai-editorial-hero-image-{{ ai_gen_id }}">
        <img
          src="{{ block.settings.hero_image | image_url: width: 1200 }}"
          alt="{{ block.settings.hero_image.alt | escape }}"
          loading="lazy"
          width="{{ block.settings.hero_image.width }}"
          height="{{ block.settings.hero_image.height }}"
        >
      </div>
    {% else %}
      <div class="ai-editorial-hero-image-{{ ai_gen_id }}">
        <div class="ai-editorial-hero-placeholder-{{ ai_gen_id }}">
          {{ 'hero-apparel-1' | placeholder_svg_tag }}
        </div>
      </div>
    {% endif %}

    <aside class="ai-editorial-sidebar-left-{{ ai_gen_id }}">
      {% if block.settings.sidebar_1_title != blank or block.settings.sidebar_1_content != blank %}
        <div class="ai-editorial-sidebar-item-{{ ai_gen_id }}">
          {% if block.settings.sidebar_1_title != blank %}
            <h3 class="ai-editorial-sidebar-title-{{ ai_gen_id }}">{{ block.settings.sidebar_1_title }}</h3>
          {% endif %}
          {% if block.settings.sidebar_1_content != blank %}
            <div class="ai-editorial-sidebar-text-{{ ai_gen_id }}">{{ block.settings.sidebar_1_content }}</div>
          {% endif %}
        </div>
      {% endif %}

      {% if block.settings.sidebar_2_title != blank or block.settings.sidebar_2_content != blank %}
        <div class="ai-editorial-sidebar-item-{{ ai_gen_id }}">
          {% if block.settings.sidebar_2_title != blank %}
            <h3 class="ai-editorial-sidebar-title-{{ ai_gen_id }}">{{ block.settings.sidebar_2_title }}</h3>
          {% endif %}
          {% if block.settings.sidebar_2_content != blank %}
            <div class="ai-editorial-sidebar-text-{{ ai_gen_id }}">{{ block.settings.sidebar_2_content }}</div>
          {% endif %}
        </div>
      {% endif %}
    </aside>

    <main class="ai-editorial-main-content-{{ ai_gen_id }}">
      {% if block.settings.main_content != blank %}
        {{ block.settings.main_content }}
      {% endif %}
    </main>

    <aside class="ai-editorial-sidebar-right-{{ ai_gen_id }}">
      {% if block.settings.sidebar_3_title != blank or block.settings.sidebar_3_content != blank %}
        <div class="ai-editorial-sidebar-item-{{ ai_gen_id }}">
          {% if block.settings.sidebar_3_title != blank %}
            <h3 class="ai-editorial-sidebar-title-{{ ai_gen_id }}">{{ block.settings.sidebar_3_title }}</h3>
          {% endif %}
          {% if block.settings.sidebar_3_content != blank %}
            <div class="ai-editorial-sidebar-text-{{ ai_gen_id }}">{{ block.settings.sidebar_3_content }}</div>
          {% endif %}
        </div>
      {% endif %}

      {% if block.settings.sidebar_4_title != blank or block.settings.sidebar_4_content != blank %}
        <div class="ai-editorial-sidebar-item-{{ ai_gen_id }}">
          {% if block.settings.sidebar_4_title != blank %}
            <h3 class="ai-editorial-sidebar-title-{{ ai_gen_id }}">{{ block.settings.sidebar_4_title }}</h3>
          {% endif %}
          {% if block.settings.sidebar_4_content != blank %}
            <div class="ai-editorial-sidebar-text-{{ ai_gen_id }}">{{ block.settings.sidebar_4_content }}</div>
          {% endif %}
        </div>
      {% endif %}
    </aside>

    {% if block.settings.quote_text != blank %}
      <blockquote class="ai-editorial-quote-{{ ai_gen_id }}">
        <p class="ai-editorial-quote-text-{{ ai_gen_id }}">{{ block.settings.quote_text }}</p>
        {% if block.settings.quote_author != blank %}
          <cite class="ai-editorial-quote-author-{{ ai_gen_id }}">{{ block.settings.quote_author }}</cite>
        {% endif %}
      </blockquote>
    {% endif %}

    {% if block.settings.show_gallery %}
      <div class="ai-editorial-gallery-{{ ai_gen_id }}">
        {% for i in (1..6) %}
          {% assign image_key = 'gallery_image_' | append: i %}
          {% assign gallery_image = block.settings[image_key] %}
          
          {% if gallery_image != blank %}
            <div class="ai-editorial-gallery-item-{{ ai_gen_id }}">
              <img
                src="{{ gallery_image | image_url: width: 400 }}"
                alt="{{ gallery_image.alt | escape }}"
                loading="lazy"
                width="{{ gallery_image.width }}"
                height="{{ gallery_image.height }}"
              >
            </div>
          {% else %}
            <div class="ai-editorial-gallery-item-{{ ai_gen_id }}">
              <div class="ai-editorial-gallery-placeholder-{{ ai_gen_id }}">
                {{ 'image' | placeholder_svg_tag }}
              </div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    {% endif %}
  </div>
</article>

{% schema %}
{
  "name": "Editorial Layout",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Article title",
      "default": "The Future of Fashion"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Exploring sustainable trends and innovative designs that are shaping the industry"
    },
    {
      "type": "text",
      "id": "author",
      "label": "Author name",
      "default": "Jane Smith"
    },
    {
      "type": "text",
      "id": "publish_date",
      "label": "Publish date",
      "default": "March 15, 2024"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero image"
    },
    {
      "type": "richtext",
      "id": "main_content",
      "label": "Main content",
      "default": "<p>Fashion is evolving at an unprecedented pace, driven by technological innovation and changing consumer values. Today's designers are reimagining traditional approaches to create garments that are not only beautiful but also sustainable and functional.</p><p>The integration of smart fabrics, 3D printing, and AI-driven design tools is revolutionizing how we think about clothing. These technologies enable designers to create pieces that adapt to the wearer's needs while minimizing environmental impact.</p><p>As we look toward the future, the fashion industry stands at a crossroads. The choices made today will determine whether fashion becomes a force for positive change or continues to contribute to environmental challenges.</p>"
    },
    {
      "type": "header",
      "content": "Pull Quote"
    },
    {
      "type": "textarea",
      "id": "quote_text",
      "label": "Quote text",
      "default": "The future of fashion lies not in fast trends, but in timeless design that respects both people and planet."
    },
    {
      "type": "text",
      "id": "quote_author",
      "label": "Quote author",
      "default": "Sustainable Fashion Expert"
    },
    {
      "type": "header",
      "content": "Sidebar Content"
    },
    {
      "type": "text",
      "id": "sidebar_1_title",
      "label": "Sidebar 1 title",
      "default": "Key Statistics"
    },
    {
      "type": "richtext",
      "id": "sidebar_1_content",
      "label": "Sidebar 1 content",
      "default": "<p>• 73% of consumers willing to pay more for sustainable fashion<br>• 40% reduction in water usage with new technologies<br>• 2030 target for carbon neutral production</p>"
    },
    {
      "type": "text",
      "id": "sidebar_2_title",
      "label": "Sidebar 2 title",
      "default": "Did You Know?"
    },
    {
      "type": "richtext",
      "id": "sidebar_2_content",
      "label": "Sidebar 2 content",
      "default": "<p>The fashion industry is the second-largest polluter in the world, but innovative brands are changing this narrative through circular design principles.</p>"
    },
    {
      "type": "text",
      "id": "sidebar_3_title",
      "label": "Sidebar 3 title",
      "default": "Trending Now"
    },
    {
      "type": "richtext",
      "id": "sidebar_3_content",
      "label": "Sidebar 3 content",
      "default": "<p>Biodegradable fabrics made from algae and mushroom leather are gaining popularity among eco-conscious designers worldwide.</p>"
    },
    {
      "type": "text",
      "id": "sidebar_4_title",
      "label": "Sidebar 4 title",
      "default": "Expert Tip"
    },
    {
      "type": "richtext",
      "id": "sidebar_4_content",
      "label": "Sidebar 4 content",
      "default": "<p>Invest in quality pieces that can be styled multiple ways. A well-made garment that lasts years is more sustainable than multiple cheap alternatives.</p>"
    },
    {
      "type": "header",
      "content": "Gallery"
    },
    {
      "type": "checkbox",
      "id": "show_gallery",
      "label": "Show image gallery",
      "default": true
    },
    {
      "type": "select",
      "id": "gallery_columns",
      "label": "Gallery columns (desktop)",
      "options": [
        {"value": "2", "label": "2"},
        {"value": "3", "label": "3"},
        {"value": "4", "label": "4"}
      ],
      "default": "3"
    },
    {
      "type": "select",
      "id": "gallery_columns_mobile",
      "label": "Gallery columns (mobile)",
      "options": [
        {"value": "1", "label": "1"},
        {"value": "2", "label": "2"}
      ],
      "default": "2"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_1",
      "label": "Gallery image 1"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_2",
      "label": "Gallery image 2"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_3",
      "label": "Gallery image 3"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_4",
      "label": "Gallery image 4"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_5",
      "label": "Gallery image 5"
    },
    {
      "type": "image_picker",
      "id": "gallery_image_6",
      "label": "Gallery image 6"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Heading font",
      "default": "helvetica_n7"
    },
    {
      "type": "font_picker",
      "id": "body_font",
      "label": "Body font",
      "default": "helvetica_n4"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 24,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Title size",
      "default": 48
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Subtitle size",
      "default": 18
    },
    {
      "type": "range",
      "id": "body_text_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Body text size",
      "default": 16
    },
    {
      "type": "range",
      "id": "quote_text_size",
      "min": 18,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Quote text size",
      "default": 24
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle color",
      "default": "#666666"
    },
    {
      "type": "color",
      "id": "meta_color",
      "label": "Meta text color",
      "default": "#888888"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "sidebar_bg_color",
      "label": "Sidebar background",
      "default": "#f8f8f8"
    },
    {
      "type": "color",
      "id": "sidebar_text_color",
      "label": "Sidebar text color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "quote_bg_color",
      "label": "Quote background",
      "default": "#f5f5f5"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 20,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Section padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "sidebar_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Sidebar border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "quote_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Quote border radius",
      "default": 12
    }
  ],
  "presets": [
    {
      "name": "Editorial Layout"
    }
  ]
}
{% endschema %}